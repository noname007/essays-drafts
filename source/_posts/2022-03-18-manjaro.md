---
layout: post
title:  Manjaro Linux æ—¥å¸¸ä½¿ç”¨
date:   2022-03-18 21:02:56 +0800
categories:
- æŠ€æœ¯
tags:
- Linux
- jpegoptim
- Flamespot
- å¿«æ·é”®
description: ğŸ€„ï¸
---


## yay ##

### pkg æ„å»ºç›®å½• ###
   
    `~/.cache/yay/pkg/`
    
å®‰è£…è¿‡ç¨‹æœ‰æ—¶ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰‹å·¥ä»‹å…¥ï¼Œè§£å†³é€Ÿåº¦ä¼šå¿«ä¸å°‘ã€‚å…ˆå‰è£…drawioçš„æ—¶å€™ç»å¸¸ä¸‹è½½ä¸€èˆ¬æ—§æŒ‚äº†ï¼Œæµè§ˆå™¨ä¸‹è½½å®Œå copyåˆ°ç›®å½• é‡æ–°yay å¯ä»¥ç»§ç»­å¾€åæ‰§è¡Œã€‚

### å®‰è£…è¿‡ç¨‹ä¿®æ”¹ PKGBUILD ###

éœ€è¦è”å…¬å¸VPNï¼Œæœ¬æ¥ç¢ç£¨ openconnect åº”è¯¥èƒ½è§£å†³é—®é¢˜ï¼Œæ²¡æƒ³åˆ°æŸæœè‡ªå·±å•ç‹¬ç©äº†ä¸€å¥—ã€‚å®‰è£…EeasyConnectæ—¶ï¼Œå®˜æ–¹æä¾›çš„æœ€æ–°çš„åŒ…ç‰ˆæœ¬å·æ²¡æœ‰å˜ï¼Œä½†æ˜¯ md5 å‘ç”Ÿäº†å˜åŒ–ï¼Œä¸çŸ¥é“ä»–ä»¬åœ¨æä»€ä¹ˆé¬¼ã€‚

ç€æ€¥ç”¨ï¼Œéœ€è¦ä¿®æ”¹PKGBUILD å°è¯•äº†ä¸¤ä¸ªæ²¡æœ‰æ•ˆæœçš„è§£å†³æ–¹æ¡ˆ `yay --editmenu --save` `yay -G <pkgname>`ï¼Œç›´æ¥è¿›å…¥æ„å»ºç›®å½•åï¼Œæ‰‹åŠ¨ä¿®æ”¹æ„å»ºè„šæœ¬å¿«ï¼Œæ”¹å®Œåç¼–è¯‘ã€å®‰è£…ä¸€åˆ†é’Ÿä¸åˆ°è§£å†³é—®é¢˜

```shell
cd .cache/yay/easyconnect
md5sum 
makepkg -si
```
    

### æ¸…ç¼“å­˜ ###
```sh
    yay -Sc
    
    pacman -Qqtd| sudo pacman -Rs -

    paru -Sc
```

è·‘äº†æœ‰ä¸€å¹´å¤šäº†å‰æ®µæ—¶é—´çœ‹ç¡¬ç›˜ä¸è¶³äºŒåä¸ªGäº†ï¼Œæ¸…æ¸…ç¼“å­˜èŠ‚çº¦äº† 80G
    

```log
[2020-11-04T19:24:07+0800] [ALPM] running 'update-mime-database.hook'...
[2020-11-04T19:28:49+0800] [PACMAN] Running 'pacman -Syyu'
```
    
## backup ##

### ç³»ç»Ÿå¼•å¯¼ä¿®å¤ ###

```shell
lsblk -f
vim /etc/fstab
mkinitcpio -P

grub-install --target=x86_64-efi --efi-directory=/boot/efi --removable --recheck --force
update-grub
```

## VirtualBox ##

### VirtualBox â€“ Cannot register the hard disk è§£å†³åŠæ³• [^1]###

    File -> Virtual Media Manager -> Removed existing images (note, I removed them only from the registry).

### å‹ç¼© vdi ç£ç›˜å¤§å° ###

vmdk æ ¼å¼ä¸æ”¯æŒï¼Œvdi å‹ç¼©å‰ï¼Œéœ€è¦å…ˆè¿›å…¥è™šæ‹Ÿæœºä¸­ æŠŠæ²¡æœ‰ä½¿ç”¨çš„ç£ç›˜ä½ç½®å¡«å…… 0 

windows å·¥å…·ï¼š[^2]

    https://docs.microsoft.com/en-us/sysinternals/downloads/sdelete

```sh
    sdelete64.exe -z c:  # å¯¹ C ç›˜å‰©ä½™ç©ºé—´å†™é›¶ï¼Œé€‚åˆè™šæ‹Ÿç£ç›˜ä¼˜åŒ–
```
Linux å·¥å…·ï¼š

```sh
    dd if=/dev/zero of=./1.img bs=102400 status=progress 
```

Manjaro å®¿ä¸»æœºä¸­æ‰§è¡Œå¦‚ä¸‹å‹ç¼©æŒ‡ä»¤

```sh
    VBoxManage modifymedium  docs.vdi --compact
```

[^1]: https://stackoverflow.com/questions/44114854/virtualbox-cannot-register-the-hard-disk-already-exists

## vmware ##

## Wayland ##

wayland[^3][^4][^5][^6]

### fcitx5 ###

```
#/etc/profile
export GTK_IM_MODULE=fcitx5
export QT_IM_MODULE=fcitx5
export XMODIFIERS="@im=fcitx5"
```

### Firefox thunderbird ###

```bash
    MOZ_ENABLE_WAYLAND=1
```

### chromium ###
    
    --ozone-platform-hint=auto
    
    vivaldi-stable --ozone-platform-hint=auto

### QT ###

     QT_QPA_PLATFORM="wayland;xcb"

### Emacs ###

    ./configure --enable-largefile --with-all --with-json --with-imagemagick --with-threads --with-pgtk --with-native-compilation --with-native-image-api
    
## flameshot & cheese 

``` shell
sudo pacman -S flameshot cheese
```

### è®¾ç½® Flamespot æˆªå›¾å¿«æ·é”® ##

![](/assets/2020-12-07_11-21.png)
![](/assets/2020-12-07_11-23.png)


## jpegoptim 

ä¼˜åŒ– jpg ç…§ç‰‡åˆ°æŒ‡å®šçš„å¤§å° 

ä¼˜åŒ–ç…§ç‰‡åˆ° 190kbé™„è¿‘

`jpegoptim -S 190 1.jpg`


## Ref ##

[^2]: https://www.appinn.com/sdelete-for-windows/

[^3]: https://bbs.archlinuxcn.org/viewtopic.php?id=11294

[^4]: https://fcitx-im.org/wiki/Setup_Fcitx_5


[^5]: https://wiki.archlinux.org/title/wayland#Qt

[^6]: https://batsov.com/articles/2021/12/19/building-emacs-from-source-with-pgtk/

