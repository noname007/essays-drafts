---
layout: post
title: xml学习笔记--xml的应用生成一个vlc播放列表
date: '2014-02-12T05:35:00.002-08:00'
author: yang zhen
tags:
- 总结
- mysql
- xml
- 学习
- php
- 笔记
modified_time: '2014-02-12T05:36:56.452-08:00'
blogger_id: tag:blogger.com,1999:blog-398569576837287746.post-7947215353820688158
blogger_orig_url: http://hiyzz.blogspot.com/2014/02/xml-xmlvlc.html
---

<br /><br /><br />&nbsp; &nbsp; &nbsp; vlc播放列表用的是xspf格式,其官方网址为：<a href="http://www.xspf.org/">http://www.xspf.org/</a>。其实，其也为一种xml格式。这样其实穿件播放列表的过程就是创建xml文档的过程，生成完xml后最后保存文件时直接保存成xspf格式即可用vlc打开就可以观看播放列表的视频、音频等等。<br /><br />其工作流程就是，先把location和title一条一条的存入数据库，然后生成对应格式的xspf文件。<br /><br />因为数据库都是在我的本地电脑上运行的。所以数据库的密码用户名什么的都需要修改。<br /><a name='more'></a><h4>存入到数据库（<a href="ftp://user2630253@www8.subdomain.com/www/xml/yzxspfinsert.php.bak" target="_blank">下载源码</a>）</h4><h4><div style="background-color: #fdfdfd; font-weight: normal;"><u>HTML+PHP语言</u>:&nbsp;<a href="http://fayaa.com/code/">高亮代码由发芽网提供</a></div><div class="source" style="background-color: black; color: #cfbfad; font-family: monospace, Consolas, 'Lucida Console', 'Courier New'; font-weight: normal;"><span style="color: #409090;">&lt;?php</span><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//if(isset($_POST["sub"])&amp;&amp; !empty($_POST["location"]) &amp;&amp;!empty($_POST["tvTitle"]))</span><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//wu zuo yong</span><br />&nbsp; &nbsp;<span style="color: #808bed;">if</span>(<span style="color: #cfbfad;">isset</span>(<span style="color: #ff8bff;">$_POST</span><span style="color: #cfbfad;">[</span><span style="background-color: #404040; color: #ffcd8b;">"sub"</span><span style="color: #cfbfad;">]))</span><br />&nbsp; &nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$h</span><span style="color: #cfbfad;">=</span><span style="color: #cfbfad;">mysql_connect</span>(<span style="background-color: #404040; color: #ffcd8b;">"127.0.0.1"</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"root"</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"123a123a"</span>)&nbsp;<span style="color: #808bed;">or</span>&nbsp;<span style="color: #808bed;">die</span>(<span style="color: #cfbfad;">mysql_error</span>());<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">mysql_select_db</span>(<span style="background-color: #404040; color: #ffcd8b;">"yz"</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$h</span>)&nbsp;<span style="color: #808bed;">or</span>&nbsp;<span style="color: #808bed;">die</span>(<span style="color: #cfbfad;">mysql_error</span>());<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">for</span>&nbsp;(<span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">=</span><span style="color: #506dbd;">0</span>;&nbsp;<span style="color: #ff8bff;">$i</span>&nbsp;<span style="color: #cfbfad;">&lt;</span>&nbsp;<span style="color: #506dbd;">10</span>;&nbsp;<span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">++</span>)&nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;"># code...</span><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">if</span>(<span style="color: #808bed;">empty</span>(<span style="color: #ff8bff;">$_POST</span><span style="color: #cfbfad;">[</span><span style="background-color: #404040; color: #ffcd8b;">"location"</span><span style="color: #cfbfad;">][</span><span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">]))</span>&nbsp;<span style="color: #808bed;">continue</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$insert</span><span style="color: #cfbfad;">=</span><span style="background-color: #404040; color: #ffcd8b;">'insert into track(location,tvTitle) values("'</span><span style="color: #cfbfad;">.</span><span style="color: #ff8bff;">$_POST</span><span style="color: #cfbfad;">[</span><span style="background-color: #404040; color: #ffcd8b;">"location"</span><span style="color: #cfbfad;">][</span><span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">]</span><span style="color: #cfbfad;">.</span><span style="background-color: #404040; color: #ffcd8b;">'","'</span><span style="color: #cfbfad;">.</span><span style="color: #ff8bff;">$_POST</span><span style="color: #cfbfad;">[</span><span style="background-color: #404040; color: #ffcd8b;">"tvTitle"</span><span style="color: #cfbfad;">][</span><span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">]</span><span style="color: #cfbfad;">.</span><span style="background-color: #404040; color: #ffcd8b;">'")'</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">mysql_query</span>(<span style="color: #ff8bff;">$insert</span>)&nbsp;<span style="color: #808bed;">or</span>&nbsp;<span style="color: #808bed;">die</span>(<span style="color: #cfbfad;">mysql_error</span>());<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">mysql_free_result</span>(<span style="color: #ff8bff;">$r</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">mysql_close</span>(<span style="color: #ff8bff;">$h</span>);<br /><br />&nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//var_dump($_POST["location"]);</span><br /><span style="color: #409090;">?&gt;</span><br /><span style="color: #808bed;">&lt;html&gt;</span><br />&nbsp; &nbsp;<span style="color: #808bed;">&lt;head&gt;</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">&lt;meta</span>&nbsp;<span style="color: #cfbfad;">charset=</span><span style="background-color: #404040; color: #ffcd8b;">"utf-8"</span><span style="color: #808bed;">&gt;</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">&lt;title&gt;</span>cha ru<span style="color: #808bed;">&lt;/title&gt;</span><br />&nbsp; &nbsp;<span style="color: #808bed;">&lt;/head&gt;</span><br />&nbsp; &nbsp;<span style="color: #808bed;">&lt;body&gt;</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">&lt;form</span>&nbsp;<span style="color: #cfbfad;">action=</span><span style="background-color: #404040; color: #ffcd8b;">""</span>&nbsp;<span style="color: #cfbfad;">method=</span><span style="background-color: #404040; color: #ffcd8b;">"post"</span>&nbsp;<span style="color: #808bed;">&gt;</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #409090;">&lt;?php</span><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">for</span>&nbsp;(<span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">=</span><span style="color: #506dbd;">0</span>;&nbsp;<span style="color: #ff8bff;">$i</span>&nbsp;<span style="color: #cfbfad;">&lt;</span>&nbsp;<span style="color: #506dbd;">10</span>;&nbsp;<span style="color: #ff8bff;">$i</span><span style="color: #cfbfad;">++</span>)&nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">echo</span>&nbsp;<span style="background-color: #404040; color: #ffcd8b;">'&lt;p&gt;location:&lt;input type="text" name="location[]"&gt; tvTitle: &lt;input type="text" name="tvTitle[]" "&gt;&lt;/p&gt;'</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #409090;">?&gt;</span><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">&lt;p&gt;</span>&nbsp;<span style="color: #808bed;">&lt;input</span>&nbsp;<span style="color: #cfbfad;">type=</span><span style="background-color: #404040; color: #ffcd8b;">"submit"</span>&nbsp;<span style="color: #cfbfad;">name=</span><span style="background-color: #404040; color: #ffcd8b;">"sub"</span><span style="color: #808bed;">&gt;</span>&nbsp;<span style="color: #808bed;">&lt;/p&gt;</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">&lt;/form&gt;</span><br />&nbsp; &nbsp;<span style="color: #808bed;">&lt;/body&gt;</span><br /><span style="color: #808bed;">&lt;/html&gt;</span><br /><div><span style="color: #808bed;"><br /></span></div></div></h4><h4><br />生成xspf(<a href="http://soul11201.eu.nu/xml/yzxspf.php.bak" target="_blank">下载源码</a>)</h4><br /><div style="background: #fdfdfd; color: black;"><u>HTML+PHP语言</u>: <a href="http://fayaa.com/code/view/28048/">xml学习笔记</a></div><div class="source" style="background-color: black; color: #cfbfad; font-family: 'Courier New', Consolas, 'Lucida Console';"><span style="color: #409090;">&lt;?php</span><br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #cfbfad;">header</span>(<span style="background-color: #404040; color: #ffcd8b;">"Content-Type:text/xml;charset:utf-8"</span>);<br /><br />&nbsp; &nbsp;<span style="color: #ff8bff;">$xspf</span> <span style="color: #cfbfad;">=</span> <span style="color: #808bed;">new</span> <span style="color: #cfbfad;">DOMdocument</span>(<span style="background-color: #404040; color: #ffcd8b;">"1.0"</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"utf-8"</span>);<br /><br />&nbsp; &nbsp;<span style="color: #808bed;">function</span> <span style="color: #cfbfad;">creEle</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$parent</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$eleName</span><span style="color: #cfbfad;">=</span><span style="background-color: #404040; color: #ffcd8b;">""</span>)<br />&nbsp; &nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">global</span> <span style="color: #ff8bff;">$xspf</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;">// because the key word gloabal $xspf i worng a long time;</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$tem</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">createElement</span>(<span style="color: #ff8bff;">$eleName</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$parent</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">appendChild</span>(<span style="color: #ff8bff;">$tem</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">return</span> <span style="color: #506dbd;">0</span>;<br />&nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br /><br />&nbsp; &nbsp;<span style="color: #808bed;">function</span> <span style="color: #cfbfad;">creAttr</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$parent</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$eleName</span><span style="color: #cfbfad;">=</span><span style="background-color: #404040; color: #ffcd8b;">""</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$value</span><span style="color: #cfbfad;">=</span><span style="background-color: #404040; color: #ffcd8b;">""</span>)<br />&nbsp; &nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">global</span> <span style="color: #ff8bff;">$xspf</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$tem</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">createAttribute</span>(<span style="color: #ff8bff;">$eleName</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$tem</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">value</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$value</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$parent</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">appendChild</span>(<span style="color: #ff8bff;">$tem</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">return</span> <span style="color: #506dbd;">0</span>;<br />&nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br /><br />&nbsp; &nbsp;<span style="color: #808bed;">function</span> <span style="color: #cfbfad;">creTextNode</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$parent</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$value</span><span style="color: #cfbfad;">=</span><span style="background-color: #404040; color: #ffcd8b;">""</span>)<br />&nbsp; &nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">global</span> <span style="color: #ff8bff;">$xspf</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$tem</span> <span style="color: #cfbfad;">=</span><span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">createTextNode</span>(<span style="color: #ff8bff;">$value</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$parent</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">appendChild</span>(<span style="color: #ff8bff;">$tem</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808bed;">return</span> <span style="color: #506dbd;">0</span>;<br />&nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br /><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//playlist node generate</span><br />&nbsp; &nbsp;<span style="color: #ff8bff;">$playlist</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">createElement</span>(<span style="background-color: #404040; color: #ffcd8b;">"playlist"</span>);<br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #ff8bff;">$pl_attr_xlmns</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">createAttribute</span>(<span style="background-color: #404040; color: #ffcd8b;">"xmlns"</span>);<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$pl_attr_xlmns</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">value</span> <span style="color: #cfbfad;">=</span> <span style="background-color: #404040; color: #ffcd8b;">"http://xspf.org/ns/0/"</span>;<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">appendChild</span>(<span style="color: #ff8bff;">$pl_attr_xlmns</span>);<br /><br />&nbsp; &nbsp;<span style="color: #ff8bff;">$pl_attr_version</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">createAttribute</span>(<span style="background-color: #404040; color: #ffcd8b;">"version"</span>);<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$pl_attr_version</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">value</span> <span style="color: #cfbfad;">=</span> <span style="background-color: #404040; color: #ffcd8b;">"1"</span>;<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">appendChild</span>(<span style="color: #ff8bff;">$pl_attr_version</span>);<br />&nbsp; <br /><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//title</span><br />&nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"title"</span>);<br />&nbsp; &nbsp;<span style="color: #cfbfad;">creTextNode</span>(<span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"TvList"</span>);<br />&nbsp; &nbsp;<span style="color: #cd8b00;">// &lt;creator&gt;</span><br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"creator"</span>);<br />&nbsp; &nbsp;<span style="color: #cfbfad;">creTextNode</span>(<span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"soul11201"</span>);<br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #cd8b00;">//&lt;info&gt;http://soul11201.eu.nu&lt;/info&gt;</span><br />&nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">'info'</span>);<br />&nbsp; &nbsp;<span style="color: #cfbfad;">creTextNode</span>(<span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">'http://soul11201.eu.nu'</span>);<br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #cd8b00;">//trackList</span><br />&nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #cfbfad;">&amp;</span><span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"trackList"</span>);<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$trackList</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$playlist</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span>;<br /><br /><br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #cd8b00;">//////////////////////////////////////////////////////////////////////////////</span><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//mysql;</span><br /><br />&nbsp; &nbsp;<span style="color: #ff8bff;">$handle</span><span style="color: #cfbfad;">=</span><span style="color: #cfbfad;">mysql_connect</span>(<span style="background-color: #404040; color: #ffcd8b;">"127.0.0.1"</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"root"</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">"123a123a"</span>) <span style="color: #808bed;">or</span> <span style="color: #808bed;">die</span>(<span style="color: #cfbfad;">mysql_error</span>());<br />&nbsp; &nbsp;<span style="color: #cfbfad;">mysql_select_db</span>(<span style="background-color: #404040; color: #ffcd8b;">"yz"</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$handle</span>) <span style="color: #808bed;">or</span> <span style="color: #808bed;">die</span>(<span style="color: #cfbfad;">mysql_error</span>());<br />&nbsp; <br />&nbsp; &nbsp;<span style="color: #ff8bff;">$select</span> <span style="color: #cfbfad;">=</span> <span style="background-color: #404040; color: #ffcd8b;">"select * from track"</span>;<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$result</span> <span style="color: #cfbfad;">=</span> <span style="color: #cfbfad;">mysql_query</span>(<span style="color: #ff8bff;">$select</span>);<br />&nbsp; &nbsp;<span style="color: #808bed;">while</span>(<span style="color: #ff8bff;">$row</span><span style="color: #cfbfad;">=</span> <span style="color: #cfbfad;">mysql_fetch_row</span>(<span style="color: #ff8bff;">$result</span>))<br />&nbsp; &nbsp;<span style="color: #cfbfad;">{</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;">//echo $row[2].'&lt;br/&gt;';</span><br /><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;">//var_dump($row[2]);</span><br /><br /><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;">//track</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #ff8bff;">$trackList</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">'track'</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff8bff;">$currentTrack</span> <span style="color: #cfbfad;">=</span> <span style="color: #ff8bff;">$trackList</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span>;<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;">//locatiion</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #ff8bff;">$currentTrack</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">'location'</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">creTextNode</span>(<span style="color: #ff8bff;">$currentTrack</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$row</span><span style="color: #cfbfad;">[</span><span style="color: #506dbd;">2</span><span style="color: #cfbfad;">]);</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">creEle</span>(<span style="color: #ff8bff;">$currentTrack</span><span style="color: #cfbfad;">,</span><span style="background-color: #404040; color: #ffcd8b;">'title'</span>);<br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cfbfad;">creTextNode</span>(<span style="color: #ff8bff;">$currentTrack</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">lastChild</span><span style="color: #cfbfad;">,</span><span style="color: #ff8bff;">$row</span><span style="color: #cfbfad;">[</span><span style="color: #506dbd;">3</span><span style="color: #cfbfad;">]);</span><br />&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cd8b00;">///////////////////////////</span><br /><br /><br />&nbsp; &nbsp;<span style="color: #cfbfad;">}</span><br />&nbsp; &nbsp;<span style="color: #cfbfad;">mysql_free_result</span>(<span style="color: #ff8bff;">$result</span>);<br />&nbsp; &nbsp;<span style="color: #cfbfad;">mysql_close</span>(<span style="color: #ff8bff;">$handle</span>);<br />&nbsp; &nbsp;<span style="color: #cd8b00;">//debug result</span><br /><br />&nbsp; &nbsp;<span style="color: #cd8b00;">//////////////////////////////////////////////////////////////////////////</span><br /><br /><br /><br />&nbsp; &nbsp;<span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">appendChild</span>(<span style="color: #ff8bff;">$playlist</span>);<br />&nbsp; &nbsp;<span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">save</span>(<span style="background-color: #404040; color: #ffcd8b;">"yz.xspf"</span>);<br />&nbsp; &nbsp;<span style="color: #808bed;">echo</span> <span style="color: #ff8bff;">$xspf</span><span style="color: #cfbfad;">-&gt;</span><span style="color: #cfbfad;">saveXML</span>(<span style="color: #ff8bff;">$playlist</span>);<br /><br /><span style="color: #409090;">?&gt;</span></div><br /><br />