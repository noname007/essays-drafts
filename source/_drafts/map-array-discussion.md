title: 关于php 数组 一点争论
tags: 
- 札记
---

前几天和少绑争论了一通。最后大家谁也没有说服谁，不欢而散。

##起因
一个接口返回数据的格式出现了问题，导致前端sdk崩溃。原因是 对`数组`这个概念的理解不一致导致的。php 数组包括`关联数组`和`索引数组`两种， java 里面对应的是`哈希`和`数组`。正常的数据都是按照关联数组返回的，需求改动后，多家了一种返回空数组的情况，`echo  json_encode([]);`。然后，就没有然后了。

##经过
先前也遇到过几次，但是我没有留意，这次上榜就开始说 php 数组和字典不分,xxxx(忘记说什么了 o(╯□╰)o ,就是说不分就太low了)。一听这话反感了，我擦，挑事那，php low 不 low 不重要，但是能把关联数组和索引数组在一个界面操作，我感觉挺厉害的一点不low，然后就开始扯皮，我反驳的理由业他妈的挺扯皮，就是不承认它low,不low的地方也没说清楚，当时还在气头上，就是找一堆乱七八糟的说法，就是不承认。

##总结
犯了好多毛病，首先是这个态度方式问题，生毛气，对不对又不是凭谁一句话算，听着不顺自己也无法反驳也没必要动气，动气是一种幼稚的表现，找不到合适的理由反驳，也只是自己没找到合适的理由而已，仔细想想有很多更理智、有讨论价值的回击方式
既然在说事，拿就要就事论事，对对错错不要对人，对话。那是很不理智的表现。仔细听听反驳的理由，或许就发现自己哪里理解的不到位了呢？理由有问题，那就更好了，直接击中错误的地方。不更好吗，省了很多事情。

其次，是自己反驳的理由，一团糟。

	当你说话的时候，所说的话要比沉默更有价值


没必要撑一时之快，说话不是一个附加题，说对了加分，说错了没事，而是会减分的。



##补充

这件事其实有好长时间了，今天突然又想到了，刚才看SICP 2.5节，带通用型操作的系统，有个类型的层次结构关于类型塔论断的部分。

{% blockquote %}
每个类型都能够"继承"其超类中定义的所有操作
{% endblockquote %}


哈希是不是可以看成是索引数组的一个超类型，索引数组是哈希的一种子类型，就像复数和整数之间的一种关系。



php 能在同一个界面上操作哈希和数组是不是就是一个很强大的功能呢？当然说这么多废话就是找个理由，php不区分索引数组和哈希就是不low。有他妈的 类型推导--->功能总比没有的强吧。。。

强词夺理了。。说说那个锅该谁背吧。其实就是我们两个来背，
没有提前约定好数据的返回格式，我默认的返回的是空数组他默认的返回的是个空哈希表，也就是个对象，


跟语言低不低级，low 不low 没有关系，就是自己没用好，没提前约定好


对java 这种语言对json的解析规则不太了解

问题是什么?
为什么会出现，原因是什么?

谁来负责？

终极目标：解决问题，根本上解决，快速的解决，不再出现。

